(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0085701d"],{c29b:function(t,e,n){},cc5a:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return u}));var c=n("b32d"),i=n("bc3a"),s=n.n(i),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{limit:30,offset:0,initial:"",type:-1,area:-1};return c["a"].get("/artist/list",{params:t})},r=function(t){return c["a"].get("/artists",{params:{id:t}})},o=function(t){return c["a"].get("/artist/top/song",{params:{id:t}})},l=function(t){var e=t.id,n=t.t;return s.a.get("/artist/sub",{params:{id:e,t:void 0===n?1:n}})},u=function(){return c["a"].get("/artist/sublist")}},d0e4:function(t,e,n){"use strict";n.r(e);var c=n("5530"),i=(n("b0c0"),n("a15b"),n("d81d"),n("4d90"),n("caad"),n("2532"),n("7a23")),s=Object(i["R"])("data-v-6e22056e");Object(i["w"])("data-v-6e22056e");var a={class:"px-5"},r={key:0,class:"topArea mt-3 d-flex"},o={class:"ms-5"},l={class:"fs-3 fw-bold"},u={class:"alias text-muted"},d=Object(i["i"])("span",{class:"ms-2 flex-shrink-0"},"收藏",-1),b=Object(i["i"])("span",{class:"ms-2 flex-shrink-0 text-dark-50"},"已收藏",-1),f=Object(i["h"])("单曲数:"),j={class:"text-muted"},O={class:"d-inline-block mx-4"},v=Object(i["h"])("单曲数:"),p={class:"text-muted"},m=Object(i["h"])("单曲数:"),h={class:"text-muted"},g=Object(i["i"])("div",{class:"boderLine w-100 border-top ms-2"},null,-1),k={class:"mt-4 d-flex"},x=Object(i["i"])("div",{class:"top50Cover rounded-4 overflow-hidden position-relative text-white flex-center flex-column fw-bold me-3"},[Object(i["i"])("div",null,"TOP"),Object(i["i"])("div",null,"50")],-1),w={class:"ms-5 flex-grow-1"},y={class:"d-flex align-items-center mb-3"},S=Object(i["i"])("span",{class:"fs-5 fw-bold me-4"},"热门50首",-1),C={class:"text-muted me-3"},I={class:"me-3"};Object(i["u"])();var L=s((function(t,e,n,L,B,A){var M,E=Object(i["B"])("CollectListIcon"),R=Object(i["B"])("HorizontalNav"),z=Object(i["B"])("playSolidInnerIcon"),D=Object(i["B"])("Divider"),P=Object(i["B"])("AddToCollectionIcon"),H=Object(i["B"])("LikedIcon"),T=Object(i["B"])("HaveLikedIcon"),U=Object(i["B"])("DownloadMusicIcon"),_=Object(i["B"])("MusicList"),J=Object(i["B"])("PlayAllListBtn");return Object(i["t"])(),Object(i["f"])(i["a"],null,[Object(i["i"])("div",a,[t.artist.img1v1Url?(Object(i["t"])(),Object(i["f"])("div",r,[Object(i["i"])("img",{class:"artistCover rounded-5",src:t.artist.img1v1Url,alt:""},null,8,["src"]),Object(i["i"])("div",o,[Object(i["i"])("div",l,Object(i["E"])(t.artist.name),1),Object(i["i"])("div",u,Object(i["E"])(null===(M=t.artist.alias)||void 0===M?void 0:M.join("、")),1),t.isSubed?(Object(i["t"])(),Object(i["f"])("div",{key:1,onClick:e[2]||(e[2]=function(e){return t.subArtist(0)}),class:"collect my-3 rounded-pill border flex-center cursor-pointer hover-btn"},[Object(i["i"])(E,{color:"rgba(0,0,0,.5)",class:"flex-shrink-0",width:"20",height:"20"}),b])):(Object(i["t"])(),Object(i["f"])("div",{key:0,onClick:e[1]||(e[1]=function(e){return t.subArtist(1)}),class:"collect my-3 rounded-pill border flex-center cursor-pointer hover-btn"},[Object(i["i"])(E,{class:"flex-shrink-0",width:"20",height:"20"}),d])),Object(i["i"])("div",null,[Object(i["i"])("span",null,[f,Object(i["i"])("span",j,Object(i["E"])(t.artist.musicSize),1)]),Object(i["i"])("span",O,[v,Object(i["i"])("span",p,Object(i["E"])(t.artist.albumSize),1)]),Object(i["i"])("span",null,[m,Object(i["i"])("span",h,Object(i["E"])(t.artist.mvSize),1)])])])])):Object(i["g"])("",!0),Object(i["i"])(R,{class:"mt-4",navs:t.navs,"onUpdate:navs":e[3]||(e[3]=function(e){return t.navs=e})},null,8,["navs"]),g,Object(i["i"])("div",k,[x,Object(i["i"])("div",w,[Object(i["i"])("div",y,[S,Object(i["i"])(z,{onClick:e[4]||(e[4]=function(e){return t.playAll.clickPlayAll()}),class:"ms-1 hover-opacity",width:"18",height:"18"}),Object(i["i"])(D,{class:"mx-4"}),Object(i["i"])(P,{onClick:e[5]||(e[5]=function(e){return t.playAll.addAll()}),class:"hover-opacity",width:"18",height:"18"})]),Object(i["i"])(_,{columns:t.columns,dataSource:t.songs.map((function(t,e){return Object(c["a"])(Object(c["a"])({},t),{},{index:e})})),startSpace:!1,colItemStyle:{padding:".7rem"}},{toolBar:s((function(e){var n=e.id,c=e.index,s=e.name;return[Object(i["i"])("span",C,Object(i["E"])(String(c+1).padStart(2,"0")),1),Object(i["i"])("span",I,[t.likedMusicList.includes(n)?(Object(i["t"])(),Object(i["f"])(T,{key:1,class:"cursor-pointer",onClick:function(e){return t.collectMusic(!1,n)},width:"15",height:"15"},null,8,["onClick"])):(Object(i["t"])(),Object(i["f"])(H,{key:0,class:"cursor-pointer",onClick:function(e){return t.collectMusic(!0,n)},width:"15",height:"15"},null,8,["onClick"]))]),Object(i["i"])(U,{onClick:function(e){return t.handleDownloadMusic({id:n,name:s})},class:"cursor-pointer",width:"15",height:"15"},null,8,["onClick"])]})),_:1},8,["columns","dataSource","colItemStyle"]),10===t.songs.length?(Object(i["t"])(),Object(i["f"])("div",{key:0,onClick:e[6]||(e[6]=function(e){return t.songs=t.realSongs}),style:{background:"#f1f1f1","margin-left":"calc(1.5rem / -2)"},class:"py-2 px-4 text-end cursor-pointer w-100"}," 查看全部50首 > ")):Object(i["g"])("",!0)])])]),Object(i["i"])(J,{visible:!1,musicList:t.songs,ref:"playAll"},null,8,["musicList"])],64)})),B=n("1da1"),A=(n("96cf"),n("fb6a"),n("cc5a")),M=n("54ba"),E=n("6e21"),R=n("eb47"),z=n("3b78"),D=n("a476"),P=n("898f"),H=n("3c08"),T=n("d4c0"),U=n("6c02"),_=n("5502"),J=Object(i["j"])({components:{HorizontalNav:P["default"],CollectListIcon:D["default"],CollapseSiderIcon:R["default"],CollectBoxIcon:z["default"]},setup:function(){var t=Object(U["c"])(),e=Object(_["b"])(),n=t.query.id,s=Object(i["x"])({artist:{},hotSongs:[],navs:[{title:"专辑",active:!0},{title:"MV"},{title:"歌手详情"},{title:"相似歌手"}],realSongs:[],songs:[],subList:[],columns:[{span:2,dataIndex:"toolBar",slots:{customRender:"toolBar"},colItemStyle:{"text-align":"center"}},{span:9,dataIndex:"name"},{span:1,dataIndex:"dt",render:function(t){return Object(T["g"])(t)}}],likedMusicList:Object(i["d"])((function(){return e.state.likedMusicList})),playAll:Object(i["y"])(null)}),a=Object(i["d"])((function(){return s.subList.some((function(t){return t.id===n}))})),r=Object(i["k"])(),o=r.appContext.config.globalProperties.$toast,l=function(){Object(A["b"])(n).then((function(t){200===t.code&&(s.artist=t.artist,s.hotSongs=t.hotSongs)}))};l();var u=function(){Object(A["d"])(n).then((function(t){200===t.code&&(s.songs=t.songs.slice(0,10),s.realSongs=t.songs,console.log(s.songs))}))};u();var d=function(){return Object(A["c"])().then((function(t){200===t.code&&(s.subList=t.data)}))};d();var b=function(t){Object(A["e"])({id:n,t:t}).then(function(){var e=Object(B["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200!==n.code){e.next=4;break}return e.next=3,d();case 3:t?o.success("收藏成功"):o.success("已取消收藏");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){var e,n,c;console.dir(t);var i=null===t||void 0===t?void 0:t.response,s=null===i||void 0===i?void 0:i.status,a=null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.code,r=null===i||void 0===i||null===(n=i.data)||void 0===n||null===(c=n.data)||void 0===c?void 0:c.blockText;400===s&&-462===a&&(console.warn(r),o.error(r))}))},f=function(t,n){Object(M["h"])({id:n,like:t}).then(function(){var n=Object(B["a"])(regeneratorRuntime.mark((function n(c){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(200!==c.code){n.next=4;break}return n.next=3,e.dispatch("getLikedMusicList");case 3:o.success(t?"已添加到我喜欢的音乐":"取消喜欢成功");case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())},j=function(t){var e=t.id,n=t.name;Object(E["c"])({id:e}).then((function(t){if(200===t.code){var e=t.data;e&&e.length?Object(H["b"])(e[0].url,n).then((function(){o.success("已添加至下载")})).catch((function(){o.warn("下载失败")})):o.warn("获取音乐链接失败")}}))};return Object(c["a"])(Object(c["a"])({},Object(i["F"])(s)),{},{isSubed:a,subArtist:b,collectMusic:f,handleDownloadMusic:j})}}),N=(n("fd3c"),n("6b0d")),q=n.n(N);const F=q()(J,[["render",L],["__scopeId","data-v-6e22056e"]]);e["default"]=F},fd3c:function(t,e,n){"use strict";n("c29b")}}]);
//# sourceMappingURL=chunk-0085701d.dac9e0ab.js.map