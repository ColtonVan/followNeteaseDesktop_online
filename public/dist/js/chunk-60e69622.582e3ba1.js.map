{"version":3,"sources":["webpack:///./src/api/album.ts","webpack:///./src/views/albumDetail.vue?825d","webpack:///./src/utils/_variable.ts","webpack:///./src/views/albumDetail.vue?15e9","webpack:///./src/views/albumDetail.vue","webpack:///./src/views/albumDetail.vue?abae"],"names":["getAlbumApi","id","get","params","subAlbumApi","t","undefined","timeStamp","Date","now","getSubedAlbumListApi","limit","offset","_withId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","style","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","key","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_ctx","_cache","$props","$setup","$data","$options","_component_AlbumCover","_component_PlayAllListBtn","_component_CustomButton","_component_HorizontalNav","_component_LikedIcon","_component_HaveLikedIcon","_component_DownloadMusicIcon","_component_MusicList","_component_CommonModal","src","albumInfo","picUrl","size","bodyClass","name","musicList","songs","collected","icon","onClick","$event","judgeIsCollected","default","_","downloadAll","artists","artist","artistIndex","$route","query","artistId","$router","back","push","length","YYYYMMDD","publishTime","navs","currentActiveNavIndex","find","item","active","startSpace","columns","dataSource","map","index","toolBar","musicId","String","padStart","likedMusicList","includes","collectMusic","width","height","handleDownloadMusic","description","split","txtItem","txtIndex","title","cancelable","onCancel","handleModalCancel","onConfirm","handleModalConfirm","visible","commonModalVisible","collectType","confirmedCollectKey","setup","route","state","span","dataIndex","slots","customRender","colItemStyle","render","text","join","store","subAlbumList","$toast","appContext","config","globalProperties","some","getArtistAlbum","then","res","code","album","info","commentCount","urls","data","url","success","catch","warn","like","dispatch","forEach","setTimeout","getSubedAlbumList","subAlbum","isCollected","confirmed","sessionStorage","JSON","parse","__exports__"],"mappings":"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","file":"js/chunk-60e69622.582e3ba1.js","sourcesContent":["import axiosIns from \"@/utils/request\";\n//获取专辑内容\nexport const getAlbumApi = (id: number | string) => {\n\treturn axiosIns.get(\"/album\", { params: { id } });\n};\n//收藏、取消收藏专辑\nexport const subAlbumApi = ({ id, t }: { id: number | string; t?: number }) => {\n\treturn axiosIns.get(\"/album/sub\", { params: { id, t: t === undefined ? 1 : t, timeStamp: Date.now() } });\n};\nexport const getSubedAlbumListApi = ({ limit, offset }: { limit: number; offset: number } = { limit: 999, offset: 0 }) => {\n\treturn axiosIns.get(\"/album/sublist\", { params: { limit, offset, timeStamp: Date.now() } });\n};\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-14fa592a\")\n\n_pushScopeId(\"data-v-14fa592a\")\nconst _hoisted_1 = { class: \"px-5 py-4\" }\nconst _hoisted_2 = { class: \"pb-5 d-flex\" }\nconst _hoisted_3 = { class: \"flex-grow-1 ms-2\" }\nconst _hoisted_4 = { class: \"d-flex align-items-center\" }\nconst _hoisted_5 = /*#__PURE__*/_createVNode(\"div\", { class: \"MusicListTag rounded flex-center me-3\" }, \"专辑\", -1)\nconst _hoisted_6 = {\n  class: \"fs-3 fw-bold canSelect text-ellipsis\",\n  style: {\"max-width\":\"400px\"}\n}\nconst _hoisted_7 = { class: \"mt-4 d-flex\" }\nconst _hoisted_8 = /*#__PURE__*/_createTextVNode(\"已收藏\")\nconst _hoisted_9 = /*#__PURE__*/_createTextVNode(\"收藏\")\nconst _hoisted_10 = /*#__PURE__*/_createTextVNode(\"下载全部\")\nconst _hoisted_11 = { class: \"mt-4 mb-1\" }\nconst _hoisted_12 = /*#__PURE__*/_createVNode(\"span\", null, \"标签：\", -1)\nconst _hoisted_13 = {\n  key: 0,\n  class: \"text-muted px-2\"\n}\nconst _hoisted_14 = {\n  key: 0,\n  class: \"text-black-50\"\n}\nconst _hoisted_15 = { class: \"mt-2\" }\nconst _hoisted_16 = /*#__PURE__*/_createVNode(\"span\", null, \"时间：\", -1)\nconst _hoisted_17 = /*#__PURE__*/_createVNode(\"div\", { class: \"boderLine w-100 border-top ms-2 mb-4\" }, null, -1)\nconst _hoisted_18 = { class: \"text-muted me-3\" }\nconst _hoisted_19 = { class: \"me-3\" }\nconst _hoisted_20 = /*#__PURE__*/_createVNode(\"div\", { class: \"fw-bold fs-5 mb-4\" }, \"专辑介绍\", -1)\nconst _hoisted_21 = { class: \"text-muted mb-4\" }\nconst _hoisted_22 = {\n  key: 0,\n  class: \"text-center text-muted\"\n}\nconst _hoisted_23 = {\n  key: 1,\n  class: \"text-center\"\n}\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_AlbumCover = _resolveComponent(\"AlbumCover\")\n  const _component_PlayAllListBtn = _resolveComponent(\"PlayAllListBtn\")\n  const _component_CustomButton = _resolveComponent(\"CustomButton\")\n  const _component_HorizontalNav = _resolveComponent(\"HorizontalNav\")\n  const _component_LikedIcon = _resolveComponent(\"LikedIcon\")\n  const _component_HaveLikedIcon = _resolveComponent(\"HaveLikedIcon\")\n  const _component_DownloadMusicIcon = _resolveComponent(\"DownloadMusicIcon\")\n  const _component_MusicList = _resolveComponent(\"MusicList\")\n  const _component_CommonModal = _resolveComponent(\"CommonModal\")\n\n  return (_openBlock(), _createBlock(\"div\", _hoisted_1, [\n    _createVNode(\"div\", _hoisted_2, [\n      _createVNode(_component_AlbumCover, {\n        src: _ctx.albumInfo.picUrl || '',\n        size: \"210\",\n        bodyClass: \"rounded-5\",\n        class: \"me-5\"\n      }, null, 8, [\"src\"]),\n      _createVNode(\"div\", _hoisted_3, [\n        _createVNode(\"div\", _hoisted_4, [\n          _hoisted_5,\n          _createVNode(\"div\", _hoisted_6, _toDisplayString(_ctx.albumInfo.name), 1)\n        ]),\n        _createVNode(\"div\", _hoisted_7, [\n          _createVNode(_component_PlayAllListBtn, { musicList: _ctx.songs }, null, 8, [\"musicList\"]),\n          (_ctx.collected)\n            ? (_openBlock(), _createBlock(_component_CustomButton, {\n                key: 0,\n                class: \"ms-2\",\n                icon: \"collected\",\n                onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.judgeIsCollected(0)))\n              }, {\n                default: _withId(() => [\n                  _hoisted_8\n                ]),\n                _: 1\n              }))\n            : (_openBlock(), _createBlock(_component_CustomButton, {\n                key: 1,\n                class: \"ms-2\",\n                icon: \"collect\",\n                onClick: _cache[2] || (_cache[2] = ($event: any) => (_ctx.judgeIsCollected(1)))\n              }, {\n                default: _withId(() => [\n                  _hoisted_9\n                ]),\n                _: 1\n              })),\n          _createVNode(_component_CustomButton, {\n            onClick: _ctx.downloadAll,\n            class: \"ms-2\",\n            icon: \"download\"\n          }, {\n            default: _withId(() => [\n              _hoisted_10\n            ]),\n            _: 1\n          }, 8, [\"onClick\"])\n        ]),\n        _createVNode(\"div\", _hoisted_11, [\n          _hoisted_12,\n          (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.albumInfo?.artists || [], (artist, artistIndex) => {\n            return (_openBlock(), _createBlock(\"span\", {\n              class: \"colorA\",\n              key: artistIndex\n            }, [\n              _createVNode(\"span\", {\n                onClick: ($event: any) => (\n\t\t\t\t\t\t\t\t_ctx.$route.query.artistId == artist.id ? _ctx.$router.back() : _ctx.$router.push({ name: 'artistDetail', query: { id: artist.id } })\n\t\t\t\t\t\t\t),\n                class: \"cursor-pointer\"\n              }, _toDisplayString(artist.name), 9, [\"onClick\"]),\n              (artistIndex != _ctx.albumInfo?.artists?.length - 1)\n                ? (_openBlock(), _createBlock(\"span\", _hoisted_13, \"/\"))\n                : _createCommentVNode(\"\", true)\n            ]))\n          }), 128)),\n          (!_ctx.albumInfo?.artists?.length)\n            ? (_openBlock(), _createBlock(\"span\", _hoisted_14, \"无\"))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createVNode(\"div\", _hoisted_15, [\n          _hoisted_16,\n          _createVNode(\"span\", null, _toDisplayString(_ctx.YYYYMMDD(_ctx.albumInfo.publishTime)), 1)\n        ])\n      ])\n    ]),\n    _createVNode(_component_HorizontalNav, {\n      navs: _ctx.navs,\n      \"onUpdate:navs\": _cache[3] || (_cache[3] = ($event: any) => (_ctx.navs = $event))\n    }, null, 8, [\"navs\"]),\n    _hoisted_17,\n    (_ctx.currentActiveNavIndex === 0)\n      ? (_openBlock(), _createBlock(_Fragment, { key: 0 }, [\n          (_ctx.navs.find((item) => item.active)?.key === 0)\n            ? (_openBlock(), _createBlock(_component_MusicList, {\n                key: 0,\n                startSpace: false,\n                columns: _ctx.columns,\n                dataSource: _ctx.songs?.map((item, index) => ({ ...item, index: index }))\n              }, {\n                toolBar: _withId(({ id: musicId, index, name }) => [\n                  _createVNode(\"span\", _hoisted_18, _toDisplayString(String(index + 1).padStart(2, \"0\")), 1),\n                  _createVNode(\"span\", _hoisted_19, [\n                    (!_ctx.likedMusicList.includes(musicId))\n                      ? (_openBlock(), _createBlock(_component_LikedIcon, {\n                          key: 0,\n                          class: \"cursor-pointer\",\n                          onClick: ($event: any) => (_ctx.collectMusic(true, musicId)),\n                          width: \"15\",\n                          height: \"15\"\n                        }, null, 8, [\"onClick\"]))\n                      : (_openBlock(), _createBlock(_component_HaveLikedIcon, {\n                          key: 1,\n                          class: \"cursor-pointer\",\n                          onClick: ($event: any) => (_ctx.collectMusic(false, musicId)),\n                          width: \"15\",\n                          height: \"15\"\n                        }, null, 8, [\"onClick\"]))\n                  ]),\n                  _createVNode(_component_DownloadMusicIcon, {\n                    onClick: ($event: any) => (_ctx.handleDownloadMusic({ id: musicId, name })),\n                    class: \"cursor-pointer\",\n                    width: \"15\",\n                    height: \"15\"\n                  }, null, 8, [\"onClick\"])\n                ]),\n                _: 1\n              }, 8, [\"columns\", \"dataSource\"]))\n            : _createCommentVNode(\"\", true)\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    (_ctx.currentActiveNavIndex === 2)\n      ? (_openBlock(), _createBlock(_Fragment, { key: 1 }, [\n          _hoisted_20,\n          _createVNode(\"div\", _hoisted_21, [\n            (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.albumInfo.description.split('\\n'), (txtItem, txtIndex) => {\n              return (_openBlock(), _createBlock(\"p\", { key: txtIndex }, _toDisplayString(txtItem), 1))\n            }), 128))\n          ])\n        ], 64))\n      : _createCommentVNode(\"\", true),\n    _createVNode(_component_CommonModal, {\n      title: \"专辑收藏成功\",\n      cancelable: true,\n      onCancel: _ctx.handleModalCancel,\n      onConfirm: _ctx.handleModalConfirm,\n      visible: _ctx.commonModalVisible,\n      \"onUpdate:visible\": _cache[4] || (_cache[4] = ($event: any) => (_ctx.commonModalVisible = $event))\n    }, {\n      default: _withId(() => [\n        (_ctx.collectType)\n          ? (_openBlock(), _createBlock(\"div\", _hoisted_22, \"可以在“我的音乐-我的收藏”中查看\"))\n          : (_openBlock(), _createBlock(\"div\", _hoisted_23, \"确定不再收藏该专辑？\"))\n      ]),\n      _: 1\n    }, 8, [\"onCancel\", \"onConfirm\", \"visible\"])\n  ]))\n})","export const confirmedCollectKey = \"__confirmedCollect__\";\n","\nimport { getAlbumApi, getSubedAlbumListApi, subAlbumApi } from \"@/api/album\";\nimport { likeMusic } from \"@/api/discover\";\nimport { getSongUrlApi } from \"@/api/song\";\nimport store from \"@/store\";\nimport { downloadMusic } from \"@/utils/file\";\nimport { addHaveUrl, playTime, YYYYMMDD } from \"@/utils/filters\";\nimport { AxiosResponseProps } from \"@/utils/request\";\nimport { computed, defineComponent, getCurrentInstance, reactive, toRefs } from \"vue\";\nimport { useRoute } from \"vue-router\";\nimport { AlbumDetail } from \"./artistDetail.vue\";\nimport { confirmedCollectKey } from \"@/utils/_variable\";\nexport default defineComponent({\n\tsetup() {\n\t\tconst route = useRoute();\n\t\tconst state = reactive({\n\t\t\tsongs: [],\n\t\t\talbumInfo: {},\n\t\t\tnavs: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"歌曲列表\",\n\t\t\t\t\tkey: 0,\n\t\t\t\t\tactive: true,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"评论（0）\",\n\t\t\t\t\tkey: 1,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"专辑详情\",\n\t\t\t\t\tkey: 2,\n\t\t\t\t},\n\t\t\t],\n\t\t\tcolumns: [\n\t\t\t\t{\n\t\t\t\t\ttitle: \"\",\n\t\t\t\t\tspan: 2,\n\t\t\t\t\tdataIndex: \"toolBar\",\n\t\t\t\t\tslots: { customRender: \"toolBar\" },\n\t\t\t\t\tcolItemStyle: { \"text-align\": \"center\" },\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"音乐标题\",\n\t\t\t\t\tspan: 3,\n\t\t\t\t\tdataIndex: \"name\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"歌手\",\n\t\t\t\t\tspan: 3,\n\t\t\t\t\tdataIndex: \"ar\",\n\t\t\t\t\trender: (text) => {\n\t\t\t\t\t\treturn text.map((item) => item.name).join(\"、\");\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"专辑\",\n\t\t\t\t\tspan: 3,\n\t\t\t\t\tdataIndex: \"al\",\n\t\t\t\t\trender: (text) => {\n\t\t\t\t\t\treturn text.name;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\ttitle: \"时长\",\n\t\t\t\t\tspan: 1,\n\t\t\t\t\tdataIndex: \"dt\",\n\t\t\t\t\trender: (text) => {\n\t\t\t\t\t\treturn playTime(text);\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t\tlikedMusicList: computed(() => store.state.likedMusicList),\n\t\t\tsubAlbumList: [],\n\t\t\tcommonModalVisible: false,\n\t\t\tcollectType: 0,\n\t\t});\n\t\tconst currentActiveNavIndex = computed(() => state.navs.map((item, index) => ({ ...item, index })).find((item) => item.active)?.index || 0);\n\t\tconst {\n\t\t\tappContext: {\n\t\t\t\tconfig: {\n\t\t\t\t\tglobalProperties: { $toast },\n\t\t\t\t},\n\t\t\t},\n\t\t} = getCurrentInstance();\n\t\tconst { id } = route.query;\n\t\tconst collected = computed(() => state.subAlbumList.some((item) => item.id == id));\n\t\tconst getArtistAlbum = () => {\n\t\t\tgetAlbumApi(id as string).then(async (res: Partial<AlbumDetail>) => {\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\tstate.navs[1].title = `评论（${res.album?.info?.commentCount || 0}）`;\n\t\t\t\t\tstate.albumInfo = res.album;\n\t\t\t\t\tstate.songs = await addHaveUrl(res.songs);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tgetArtistAlbum();\n\t\tconst handleDownloadMusic = ({ id, name }) => {\n\t\t\tgetSongUrlApi({ id }).then((res: AxiosResponseProps) => {\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\tlet urls = res.data;\n\t\t\t\t\tif (urls && urls.length) {\n\t\t\t\t\t\tdownloadMusic(urls[0].url, name)\n\t\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\t\t$toast.success(\"已添加至下载\");\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\t\t$toast.warn(\"下载失败\");\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$toast.warn(\"获取音乐链接失败\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tconst collectMusic = (like, id) => {\n\t\t\tlikeMusic({ id, like }).then(async (res: any) => {\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\tawait store.dispatch(\"getLikedMusicList\");\n\t\t\t\t\t$toast.success(like ? \"已添加到我喜欢的音乐\" : \"取消喜欢成功\");\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tconst downloadAll = () => {\n\t\t\tif (!state.songs.length) return $toast.warn(\"歌单暂无歌曲，请添加一些再来下载吧~\");\n\t\t\tstate.songs.forEach((item, index) => {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\thandleDownloadMusic({ id: item.id, name: item.name });\n\t\t\t\t}, 60 * index);\n\t\t\t});\n\t\t};\n\t\tconst getSubedAlbumList = () => {\n\t\t\treturn getSubedAlbumListApi().then((res: AxiosResponseProps) => {\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\tstate.subAlbumList = res.data;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tgetSubedAlbumList();\n\t\tconst subAlbum = (isCollected) => {\n\t\t\tsubAlbumApi({ id: id as string, t: isCollected }).then(async (res: AxiosResponseProps) => {\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\tawait getSubedAlbumList();\n\t\t\t\t\tif (isCollected) {\n\t\t\t\t\t\tlet confirmed = false;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconfirmed = sessionStorage[confirmedCollectKey] && JSON.parse(sessionStorage[confirmedCollectKey]) === true;\n\t\t\t\t\t\t} catch {\n\t\t\t\t\t\t\tconfirmed = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (confirmed) {\n\t\t\t\t\t\t\t$toast.success(\"已收藏\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstate.commonModalVisible = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$toast.success(\"已取消收藏\");\n\t\t\t\t\t\tstate.commonModalVisible = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tconst judgeIsCollected = (isCollected) => {\n\t\t\tstate.collectType = isCollected;\n\t\t\tif (isCollected) {\n\t\t\t\tsubAlbum(1);\n\t\t\t} else {\n\t\t\t\tstate.commonModalVisible = true;\n\t\t\t}\n\t\t};\n\t\tconst handleModalCancel = () => {\n\t\t\tstate.commonModalVisible = false;\n\t\t};\n\t\tconst handleModalConfirm = () => {\n\t\t\tif (state.collectType) {\n\t\t\t\tstate.commonModalVisible = false;\n\t\t\t\tsessionStorage[confirmedCollectKey] = true;\n\t\t\t} else {\n\t\t\t\tsubAlbum(0);\n\t\t\t}\n\t\t};\n\t\treturn {\n\t\t\t...toRefs(state),\n\t\t\tYYYYMMDD,\n\t\t\thandleDownloadMusic,\n\t\t\tcollectMusic,\n\t\t\tdownloadAll,\n\t\t\tsubAlbum,\n\t\t\tcollected,\n\t\t\thandleModalCancel,\n\t\t\thandleModalConfirm,\n\t\t\tjudgeIsCollected,\n\t\t\tcurrentActiveNavIndex,\n\t\t};\n\t},\n});\n","import { render } from \"./albumDetail.vue?vue&type=template&id=14fa592a&scoped=true&ts=true\"\nimport script from \"./albumDetail.vue?vue&type=script&lang=ts\"\nexport * from \"./albumDetail.vue?vue&type=script&lang=ts\"\n\nimport \"./albumDetail.vue?vue&type=style&index=0&id=14fa592a&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/bytedance/Documents/projects/followNeteaseDesktop/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-14fa592a\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./albumDetail.vue?vue&type=style&index=0&id=14fa592a&scoped=true&lang=scss\""],"sourceRoot":""}