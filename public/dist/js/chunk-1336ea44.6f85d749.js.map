{"version":3,"sources":["webpack:///./src/views/views/artist.vue?c472","webpack:///./src/views/views/artist.vue?7a6a","webpack:///./src/views/views/artist.vue?5b43","webpack:///./src/views/views/artist.vue","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./src/api/artist.ts"],"names":["_withId","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","render","_ctx","_cache","$props","$setup","$data","$options","_component_Divider","_component_ArtistItem","onScroll","handleScroll","style","height","filters","filter","key","cat","values","value","valueIndex","onClick","$event","map","item","index","active","code","activeCatName","name","opacity","length","artists","artist","$router","push","query","id","picUrl","setup","state","Array","fill","String","fromCharCode","getArtistList","params","then","res","currentParams","item1","item2","reduce","prev","item3","offset","immediate","isRequesting","concatArtists","finally","e","target","__exports__","toObject","toAbsoluteIndex","toLength","module","exports","O","this","argumentsLength","arguments","undefined","end","endPos","$","addToUnscopables","proto","getArtistListApi","limit","initial","type","area","get","getArtistsApi","getTop50Api","subArtistApi","t","a","getSubListApi"],"mappings":"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","file":"js/chunk-1336ea44.6f85d749.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./artist.vue?vue&type=style&index=0&id=5c4c9b71&scoped=true&lang=scss\"","import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock, toDisplayString as _toDisplayString, createVNode as _createVNode, resolveComponent as _resolveComponent, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nconst _withId = /*#__PURE__*/_withScopeId(\"data-v-5c4c9b71\")\n\n_pushScopeId(\"data-v-5c4c9b71\")\nconst _hoisted_1 = { class: \"mt-3\" }\nconst _hoisted_2 = { class: \"d-flex\" }\nconst _hoisted_3 = { class: \"catKey flex-center flex-shrink-0 px-3\" }\nconst _hoisted_4 = /*#__PURE__*/_createVNode(\"span\", { class: \"opacity: 0;\" }, null, -1)\nconst _hoisted_5 = { class: \"d-flex justify-content-between flex-wrap\" }\n_popScopeId()\n\nexport const render = /*#__PURE__*/_withId((_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) => {\n  const _component_Divider = _resolveComponent(\"Divider\")\n  const _component_ArtistItem = _resolveComponent(\"ArtistItem\")\n\n  return (_openBlock(), _createBlock(\"div\", {\n    class: \"w-100 overflow-scroll hideScrollBar\",\n    onScroll: _cache[1] || (_cache[1] = \n//@ts-ignore\n(...args) => (_ctx.handleScroll && _ctx.handleScroll(...args))),\n    style: { height: 'calc(100vh - 75px - 60px - 38px - 1.5rem)' }\n  }, [\n    _createVNode(\"div\", _hoisted_1, [\n      (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.filters, (filter) => {\n        return (_openBlock(), _createBlock(\"div\", {\n          key: filter.key\n        }, [\n          _createVNode(\"div\", _hoisted_2, [\n            _createVNode(\"span\", _hoisted_3, _toDisplayString(filter.cat) + \"：\", 1),\n            _createVNode(\"span\", null, [\n              (_openBlock(true), _createBlock(_Fragment, null, _renderList(filter.values, (value, valueIndex) => {\n                return (_openBlock(), _createBlock(\"span\", {\n                  onClick: ($event: any) => (filter.values = filter.values.map((item, index) => ({ ...item, active: valueIndex === index ? true : false }))),\n                  class: \"catNameContainer cursor-pointer mb-4 d-inline-flex justify-content-between align-items-center\",\n                  key: value.code\n                }, [\n                  _hoisted_4,\n                  _createVNode(\"span\", {\n                    class: [\"catName d-inline-block px-3 rounded-pill\", { activeCatName: value.active }]\n                  }, _toDisplayString(value.name), 3),\n                  _createVNode(_component_Divider, {\n                    opacity: valueIndex !== filter.values.length - 1 ? 0.5 : 0\n                  }, null, 8, [\"opacity\"])\n                ], 8, [\"onClick\"]))\n              }), 128))\n            ])\n          ])\n        ]))\n      }), 128))\n    ]),\n    _createVNode(\"div\", _hoisted_5, [\n      (_openBlock(true), _createBlock(_Fragment, null, _renderList(_ctx.artists, (artist) => {\n        return (_openBlock(), _createBlock(_component_ArtistItem, {\n          onClick: ($event: any) => (_ctx.$router.push({ name: 'artistDetail', query: { id: artist.id } })),\n          class: \"mb-5\",\n          key: artist.id,\n          name: artist.name,\n          picUrl: artist.picUrl\n        }, null, 8, [\"onClick\", \"name\", \"picUrl\"]))\n      }), 128))\n    ])\n  ], 36))\n})","\nimport { computed, defineComponent, reactive, toRefs, watch } from \"vue\";\nimport { ArtistListApiParams, getArtistListApi } from \"@/api/artist\";\nimport { AxiosResponseProps } from \"@/utils/request\";\nimport { scrollToBottom } from \"@/utils/document\";\nexport default defineComponent({\n\tsetup() {\n\t\ttype Artist = any[];\n\t\tinterface ArtistListResponse extends AxiosResponseProps {\n\t\t\tartists: Artist;\n\t\t}\n\t\ttype Filters = {\n\t\t\tkey: string;\n\t\t\tcat: string;\n\t\t\tvalues: {\n\t\t\t\tname: string;\n\t\t\t\tcode: number | string;\n\t\t\t\tactive?: boolean;\n\t\t\t}[];\n\t\t}[];\n\t\tinterface State {\n\t\t\tartists: Artist;\n\t\t\tfilters: Filters;\n\t\t}\n\t\tconst state = reactive<State>({\n\t\t\tartists: [],\n\t\t\tfilters: [\n\t\t\t\t{\n\t\t\t\t\tkey: \"area\",\n\t\t\t\t\tcat: \"语种\",\n\t\t\t\t\tvalues: [\n\t\t\t\t\t\t{ name: \"全部\", code: -1, active: true },\n\t\t\t\t\t\t{ name: \"华语\", code: 7 },\n\t\t\t\t\t\t{ name: \"欧美\", code: 96 },\n\t\t\t\t\t\t{ name: \"日本\", code: 8 },\n\t\t\t\t\t\t{ name: \"韩国\", code: 16 },\n\t\t\t\t\t\t{ name: \"其他\", code: 0 },\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: \"type\",\n\t\t\t\t\tcat: \"分类\",\n\t\t\t\t\tvalues: [\n\t\t\t\t\t\t{ name: \"全部\", code: -1, active: true },\n\t\t\t\t\t\t{ name: \"男歌手\", code: 1 },\n\t\t\t\t\t\t{ name: \"女歌手\", code: 2 },\n\t\t\t\t\t\t{ name: \"乐队\", code: 3 },\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tkey: \"initial\",\n\t\t\t\t\tcat: \"筛选\",\n\t\t\t\t\tvalues: [\n\t\t\t\t\t\t{ name: \"热门\", code: -1, active: true },\n\t\t\t\t\t\t...new Array(26).fill(null).map((item, index) => {\n\t\t\t\t\t\t\tconst name = String.fromCharCode(index + 65);\n\t\t\t\t\t\t\tconst code = name;\n\t\t\t\t\t\t\treturn { name, code };\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t{ name: \"#\", code: 0 },\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t],\n\t\t});\n\t\tconst getArtistList = (params?: ArtistListApiParams) => {\n\t\t\tgetArtistListApi(params).then((res: Partial<ArtistListResponse>) => {\n\t\t\t\tif (res.code === 200) {\n\t\t\t\t\tstate.artists = res.artists;\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t\tconst currentParams = () =>\n\t\t\tstate.filters\n\t\t\t\t.map((item) => item.values.filter((item1) => item1.active).map((item2) => ({ [item.key]: item2.code })))\n\t\t\t\t.reduce((prev, item3) => ({ ...prev, ...item3[0] }), {});\n\t\twatch(\n\t\t\tcurrentParams,\n\t\t\t(params) => {\n\t\t\t\toffset = 0;\n\t\t\t\tgetArtistList(params);\n\t\t\t},\n\t\t\t{\n\t\t\t\timmediate: true,\n\t\t\t}\n\t\t);\n\t\tlet offset = 0;\n\t\tlet isRequesting = false;\n\t\tconst concatArtists = () => {\n\t\t\tif (isRequesting) return;\n\t\t\tisRequesting = true;\n\t\t\toffset += 30;\n\t\t\tgetArtistListApi({ ...currentParams(), offset })\n\t\t\t\t.then((res: Partial<ArtistListResponse>) => {\n\t\t\t\t\tif (res.code === 200) {\n\t\t\t\t\t\tstate.artists = [...state.artists, ...res.artists];\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tisRequesting = false;\n\t\t\t\t});\n\t\t};\n\t\tconst handleScroll = (e) => {\n\t\t\tscrollToBottom(e.target, () => {\n\t\t\t\tconcatArtists();\n\t\t\t});\n\t\t};\n\t\treturn {\n\t\t\t...toRefs(state),\n\t\t\tgetArtistList,\n\t\t\thandleScroll,\n\t\t};\n\t},\n});\n","import { render } from \"./artist.vue?vue&type=template&id=5c4c9b71&scoped=true&ts=true\"\nimport script from \"./artist.vue?vue&type=script&lang=ts\"\nexport * from \"./artist.vue?vue&type=script&lang=ts\"\n\nimport \"./artist.vue?vue&type=style&index=0&id=5c4c9b71&scoped=true&lang=scss\"\n\nimport exportComponent from \"/Users/bytedance/Documents/projects/followNeteaseDesktop/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c4c9b71\"]])\n\nexport default __exports__","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.es/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","import axiosIns from \"@/utils/request\";\nimport axios from \"axios\";\n\n// type 取值:\n\n// -1:全部\n// 1:男歌手\n// 2:女歌手\n// 3:乐队\n\n// area 取值:\n\n// -1:全部\n// 7华语\n// 96欧美\n// 8:日本\n// 16韩国\n// 0:其他\nexport interface ArtistListApiParams {\n\tlimit?: number;\n\toffset?: number;\n\tinitial?: string;\n\ttype?: number;\n\tarea?: number;\n}\nexport const getArtistListApi = (\n\tparams: ArtistListApiParams = {\n\t\tlimit: 30,\n\t\toffset: 0,\n\t\tinitial: \"\",\n\t\ttype: -1,\n\t\tarea: -1,\n\t}\n) => {\n\treturn axiosIns.get(\"/artist/list\", { params });\n};\nexport const getArtistsApi = (id) => {\n\treturn axiosIns.get(\"/artists\", { params: { id } });\n};\nexport const getTop50Api = (id) => {\n\treturn axiosIns.get(\"/artist/top/song\", { params: { id } });\n};\nexport const subArtistApi = ({ id, t }: { id: number | string; t?: number }) => {\n\treturn axios.get(\"/artist/sub\", { params: { id, t: t === undefined ? 1 : t } });\n};\nexport const getSubListApi = () => {\n\treturn axiosIns.get(\"/artist/sublist\");\n};\n"],"sourceRoot":""}